class extension extends noteText{constructor(){super()}async removeNotesHere(e){let o=this.getAnchorUrl(e.url),t=document.querySelectorAll(".removeEx0A");t=t.length>0?t:t[0];let n=await this.getStorage();if("removeNotesHere"==e.action||"deleteAll"==e.action||"hiddenNotes"==e.action){return{action:"notesDelete",notesDelete:await async function(t){return await new Promise(async(r,a)=>{let s=0;for(let r in n)await new Promise(async(a,s)=>{console.log(n[r]),a(n[r].url&&n[r].url==e.url&&0==n[r].anchorDomain||1==n[r].anchorDomain&&n[r].urlAnchor&&""!=n[r].urlAnchor&&n[r].urlAnchor==o?t(n[r]):0)}).then(e=>{s+=e});r(s)})}(async o=>{"removeNotesHere"==e.action&&(0==o.anchorDomain?await this.removeStorage(o.url+o.id):1==o.anchorDomain&&await this.removeStorage(o.urlAnchor+o.id));let t=document.querySelector("#removeEx"+o.id),n=document.querySelector("#anchor-removeEx"+o.id),r=0;return t&&(console.log("esta no acnhor"),r+=1,t.delete()),n&&(console.log("esta acnhor"),r+=1,n.delete()),r})}}}}let EasyNotes=new extension;EasyNotes.onMessages({default:async e=>{if("function"==typeof EasyNotes[e.action]){let o=await EasyNotes[e.action](e);o&&o.notesDelete&&EasyNotes.send(o)}}});