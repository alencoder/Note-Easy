class extension extends noteText{constructor(){super()}async removeNotesHere(e){let t=this.getAnchorUrl(e.url),o=document.querySelectorAll(".removeEx0A");o=o.length>0?o:o[0];let n=await this.getStorage();if("removeNotesHere"==e.action||"deleteAll"==e.action||"hiddenNotes"==e.action){return{action:"notesDelete",notesDelete:await async function(o){return await new Promise(async(r,a)=>{let s=0;for(let r in n)await new Promise(async(a,s)=>{a(n[r].url&&n[r].url==e.url&&0==n[r].anchorDomain||1==n[r].anchorDomain&&n[r].urlAnchor&&""!=n[r].urlAnchor&&n[r].urlAnchor==t?o(n[r]):0)}).then(e=>{s+=e});r(s)})}(async t=>{"removeNotesHere"==e.action&&(0==t.anchorDomain?await this.removeStorage(t.url+t.id):1==t.anchorDomain&&await this.removeStorage(t.urlAnchor+t.id));let o=document.querySelector("#removeEx"+t.id),n=document.querySelector("#anchor-removeEx"+t.id),r=0;return o&&(r+=1,o.delete()),n&&(r+=1,n.delete()),r})}}}}let EasyNotes=new extension;EasyNotes.onMessages({default:async e=>{if("function"==typeof EasyNotes[e.action]){let t=await EasyNotes[e.action](e);t&&t.notesDelete&&EasyNotes.send(t)}}});